CMAKE_MINIMUM_REQUIRED( VERSION 2.8.10 FATAL_ERROR )

# Enable C++11 features
SET( CMAKE_CXX_FLAGS "-std=c++11 -stdlib=libc++ -U__STRICT_ANSI__" )

PROJECT( CRIMILD )

ADD_SUBDIRECTORY( src )

OPTION( CRIMILD_ENABLE_TESTS "Would you like to enable unit tests?" OFF )
IF ( CRIMILD_ENABLE_TESTS )
	ENABLE_TESTING()

	ADD_DEFINITIONS( -DGTEST_LANG_CXX11=1 )
	ADD_DEFINITIONS( -DGTEST_USE_OWN_TR1_TUPLE=1 )

	ADD_SUBDIRECTORY( ${CRIMILD_SOURCE_DIR}/third-party/gtest-1.6.0 EXCLUDE_FROM_ALL )
	ADD_SUBDIRECTORY( tests )
ELSE ( CRIMILD_ENABLE_TESTS )
	MESSAGE( "-- Skipping unit tests" )
ENDIF ( CRIMILD_ENABLE_TESTS )

ADD_SUBDIRECTORY( examples )

